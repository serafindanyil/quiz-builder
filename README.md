# Quiz Builder Backend API

Backend –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–≤—ñ–∑–∞–º–∏, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –Ω–∞ Node.js –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Express.js, TypeScript —Ç–∞ Prisma ORM.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- Node.js (–≤–µ—Ä—Å—ñ—è 18+ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)
- npm –∞–±–æ yarn
- SQLite (–≤–±—É–¥–æ–≤–∞–Ω–æ)

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó backend:
```bash
cd backend
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
npm install
# –∞–±–æ
yarn install
```

3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö:
```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—ó Prisma
npx prisma migrate dev

# –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ Prisma Client
npx prisma generate
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

#### –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏ (–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º)
```bash
npm run dev
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ `http://localhost:3000`

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
```bash
curl http://localhost:3000/ping
# –û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: "Pong"
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î SQLite –±–∞–∑—É –¥–∞–Ω–∏—Ö –∑ –Ω–∞—Å—Ç—É–ø–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é:

- **Quiz** - –æ—Å–Ω–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –∫–≤—ñ–∑—ñ–≤
- **Question** - –ø–∏—Ç–∞–Ω–Ω—è –∫–≤—ñ–∑—É
- **Option** - –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è –ø–∏—Ç–∞–Ω—å

–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏ –ø–∏—Ç–∞–Ω—å:
- `BOOLEAN` - —Ç–∞–∫/–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è
- `INPUT` - —Ç–µ–∫—Å—Ç–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è
- `CHECKBOX` - –ø–∏—Ç–∞–Ω–Ω—è –∑ –º–Ω–æ–∂–∏–Ω–Ω–∏–º –≤–∏–±–æ—Ä–æ–º

## üîó API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

–í—Å—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞ –±–∞–∑–æ–≤–∏–º URL: `http://localhost:3000/api`

### 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–≤—ñ–∑

**POST** `/api/quizzes`

–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –∫–≤—ñ–∑ –∑ –ø–∏—Ç–∞–Ω–Ω—è–º–∏ —Ç–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:
```json
{
  "title": "–ó–∞–≥–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è",
  "questions": [
    {
      "text": "–Ø–∫–∞ —Å—Ç–æ–ª–∏—Ü—è –£–∫—Ä–∞—ó–Ω–∏?",
      "type": "CHECKBOX",
      "options": ["–ö–∏—ó–≤", "–õ—å–≤—ñ–≤", "–•–∞—Ä–∫—ñ–≤", "–û–¥–µ—Å–∞"],
      "correctAnswers": ["–ö–∏—ó–≤"]
    },
    {
      "text": "–£–∫—Ä–∞—ó–Ω–∞ - —Ü–µ —î–≤—Ä–æ–ø–µ–π—Å—å–∫–∞ –∫—Ä–∞—ó–Ω–∞?",
      "type": "BOOLEAN", 
      "options": ["–¢–∞–∫", "–ù—ñ"],
      "correctAnswers": ["–¢–∞–∫"]
    },
    {
      "text": "–ù–∞–∑–≤—ñ—Ç—å –Ω–∞–π–¥–æ–≤—à—É —Ä—ñ—á–∫—É –£–∫—Ä–∞—ó–Ω–∏",
      "type": "INPUT",
      "options": [],
      "correctAnswers": ["–î–Ω—ñ–ø—Ä–æ"]
    }
  ]
}
```

#### –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```json
{
  "id": 1,
  "title": "–ó–∞–≥–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è",
  "createdAt": "2025-07-25T16:30:00.000Z",
  "updatedAt": "2025-07-25T16:30:00.000Z",
  "questions": [
    {
      "id": 1,
      "quizId": 1,
      "text": "–Ø–∫–∞ —Å—Ç–æ–ª–∏—Ü—è –£–∫—Ä–∞—ó–Ω–∏?",
      "type": "CHECKBOX",
      "correctAnswer": null,
      "createdAt": "2025-07-25T16:30:00.000Z",
      "options": [
        {
          "id": 1,
          "questionId": 1,
          "text": "–ö–∏—ó–≤",
          "isCorrect": true
        },
        {
          "id": 2,
          "questionId": 1,
          "text": "–õ—å–≤—ñ–≤",
          "isCorrect": false
        },
        {
          "id": 3,
          "questionId": 1,
          "text": "–•–∞—Ä–∫—ñ–≤",
          "isCorrect": false
        },
        {
          "id": 4,
          "questionId": 1,
          "text": "–û–¥–µ—Å–∞",
          "isCorrect": false
        }
      ]
    },
    {
      "id": 2,
      "quizId": 1,
      "text": "–£–∫—Ä–∞—ó–Ω–∞ - —Ü–µ —î–≤—Ä–æ–ø–µ–π—Å—å–∫–∞ –∫—Ä–∞—ó–Ω–∞?",
      "type": "BOOLEAN",
      "correctAnswer": null,
      "createdAt": "2025-07-25T16:30:00.000Z",
      "options": [
        {
          "id": 5,
          "questionId": 2,
          "text": "–¢–∞–∫",
          "isCorrect": true
        },
        {
          "id": 6,
          "questionId": 2,
          "text": "–ù—ñ",
          "isCorrect": false
        }
      ]
    },
    {
      "id": 3,
      "quizId": 1,
      "text": "–ù–∞–∑–≤—ñ—Ç—å –Ω–∞–π–¥–æ–≤—à—É —Ä—ñ—á–∫—É –£–∫—Ä–∞—ó–Ω–∏",
      "type": "INPUT",
      "correctAnswer": "–î–Ω—ñ–ø—Ä–æ",
      "createdAt": "2025-07-25T16:30:00.000Z",
      "options": []
    }
  ]
}
```

#### –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É:
- `201` - –ö–≤—ñ–∑ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ
- `500` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### 2. –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–≤—ñ–∑–∏

**GET** `/api/quizzes`

–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–≤—ñ–∑—ñ–≤ –∑ –±–∞–∑–æ–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é.

#### –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```json
[
  {
    "id": 1,
    "title": "–ó–∞–≥–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è",
    "questionCount": 3
  },
  {
    "id": 2,
    "title": "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏",
    "questionCount": 5
  }
]
```

#### –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É:
- `200` - –£—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ
- `500` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### 3. –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–≤—ñ–∑ –∑–∞ ID

**GET** `/api/quizzes/:id`

–ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–≤—ñ–∑, –≤–∫–ª—é—á–∞—é—á–∏ –≤—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `id` (number) - ID –∫–≤—ñ–∑—É

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:
```bash
GET /api/quizzes/1
```

#### –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```json
{
  "id": 1,
  "title": "–ó–∞–≥–∞–ª—å–Ω—ñ –∑–Ω–∞–Ω–Ω—è",
  "createdAt": "2025-07-25T16:30:00.000Z",
  "updatedAt": "2025-07-25T16:30:00.000Z",
  "questions": [
    {
      "id": 1,
      "quizId": 1,
      "text": "–Ø–∫–∞ —Å—Ç–æ–ª–∏—Ü—è –£–∫—Ä–∞—ó–Ω–∏?",
      "type": "CHECKBOX",
      "correctAnswer": null,
      "createdAt": "2025-07-25T16:30:00.000Z",
      "options": [
        {
          "id": 1,
          "questionId": 1,
          "text": "–ö–∏—ó–≤",
          "isCorrect": true
        },
        {
          "id": 2,
          "questionId": 1,
          "text": "–õ—å–≤—ñ–≤",
          "isCorrect": false
        }
      ]
    }
  ]
}
```

#### –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É:
- `200` - –£—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ
- `404` - –ö–≤—ñ–∑ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
- `500` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### 4. –í–∏–¥–∞–ª–∏—Ç–∏ –∫–≤—ñ–∑

**DELETE** `/api/quizzes/:id`

–í–∏–¥–∞–ª—è—î –∫–≤—ñ–∑ —Ç–∞ –≤—Å—ñ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–∏–º –ø–∏—Ç–∞–Ω–Ω—è –π –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `id` (number) - ID –∫–≤—ñ–∑—É

#### –ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:
```bash
DELETE /api/quizzes/1
```

#### –í—ñ–¥–ø–æ–≤—ñ–¥—å:
–ü–æ—Ä–æ–∂–Ω—ñ–π –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑ –∫–æ–¥–æ–º —Å—Ç–∞—Ç—É—Å—É `204`

#### –ö–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—É:
- `204` - –£—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ
- `500` - –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è cURL

#### –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–≤—ñ–∑:
```bash
curl -X POST http://localhost:3000/api/quizzes \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–¢–µ—Å—Ç–æ–≤–∏–π –∫–≤—ñ–∑",
    "questions": [
      {
        "text": "–¶–µ —Ç–µ—Å—Ç–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è?",
        "type": "BOOLEAN",
        "options": ["–¢–∞–∫", "–ù—ñ"],
        "correctAnswers": ["–¢–∞–∫"]
      }
    ]
  }'
```

#### –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–≤—ñ–∑–∏:
```bash
curl http://localhost:3000/api/quizzes
```

#### –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–≤—ñ–∑ –∑–∞ ID:
```bash
curl http://localhost:3000/api/quizzes/1
```

#### –í–∏–¥–∞–ª–∏—Ç–∏ –∫–≤—ñ–∑:
```bash
curl -X DELETE http://localhost:3000/api/quizzes/1
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Postman

1. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ –∫–æ–ª–µ–∫—Ü—ñ—é –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏:
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –±–∞–∑–æ–≤–∏–π URL: `http://localhost:3000/api`
3. –î–ª—è POST –∑–∞–ø–∏—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Content-Type: application/json`

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quiz-controller.ts     # –õ–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quiz-routes.ts         # –ú–∞—Ä—à—Ä—É—Ç–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quiz-types.ts          # TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client.ts              # Prisma –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ generated/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma/                # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ Prisma —Ç–∏–ø–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                   # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma              # –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ dev.db                     # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ migrations/                # –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó backend:

```env
DATABASE_URL="file:./dev.db"
```

### –ö–æ–º–∞–Ω–¥–∏ Prisma

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –º—ñ–≥—Ä–∞—Ü—ñ—é
npx prisma migrate dev --name migration_name

# –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó
npx prisma migrate deploy

# –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç
npx prisma generate

# –í—ñ–¥–∫—Ä–∏—Ç–∏ Prisma Studio (GUI –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö)
npx prisma studio
```

## üêõ –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –ü–æ–º–∏–ª–∫–∞ "datatype mismatch"
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Prisma –∫–ª—ñ—î–Ω—Ç –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –º—ñ–≥—Ä–∞—Ü—ñ–π:
```bash
npx prisma generate
```

### –ü–æ—Ä—Ç –≤–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
–ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç —É —Ñ–∞–π–ª—ñ `src/index.ts` –∞–±–æ –∑—É–ø–∏–Ω—ñ—Ç—å –ø—Ä–æ—Ü–µ—Å, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç 3000:
```bash
lsof -ti:3000 | xargs kill -9
```

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—É—Ü—ñ—è

1. –§–æ—Ä–∫–Ω—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature –≥—ñ–ª–∫—É (`git checkout -b feature/amazing-feature`)
3. –ó—Ä–æ–±—ñ—Ç—å –∫–æ–º—ñ—Ç (`git commit -m 'Add some amazing feature'`)
4. –ó–∞–ø—É—à—Ç–µ –≤ –≥—ñ–ª–∫—É (`git push origin feature/amazing-feature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –ø—ñ–¥ MIT –ª—ñ—Ü–µ–Ω–∑—ñ—î—é.
